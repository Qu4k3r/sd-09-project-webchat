<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/index.css">
  <title>Chat | Socket.io</title>
</head>

<body class="chat-container">

  <h1 class="title">Bem-vindos ao chat desenvolvido com socket.io</h1>
  <!-- display flex row -->
  <header class="user-info-container">
    <form action="/">
      <input type="text" class="nickname" placeholder="Insira seu nome ou apelido" data-testid="nickname-box">
      <button class="post-nickname" data-testid="nickname-button">Salvar</button>
    </form>
  </header>

  <!-- display flex row space-around? -->
  <main class="user-message-container">
    <!-- display flex column -->
    <section class="user-container">
      <ul class="user-list">
        <% userList.length && userList.forEach((user) => { %>
          <li data-testid="online-user" data-key=<%= user.userId %> >
            <%= user.nickname %> 
          </li>
        <%}) %>
      </ul>
    </section>
    
    <!-- display flex column -->
    <section class="message-container">
      <ul class="message-list">
        <% messageList.length && messageList.forEach(({ message, nickname, timestamp }) => { %>
          <li data-testid="message" >
            <%= timestamp %> - <%= nickname %>: <%= message %>
          </li>
        <%}) %>
      </ul>
    </section>
  </main>

  <!-- display flex row -->
  <footer>
    <form action="/">
      <input type="text" class="text-message" placeholder="Digite uma mensagem" data-testid="message-box">
      <button class="post-message" data-testid="send-button">Enviar</button>
    </form>
  </footer>

  <script src="/socket.io/socket.io.js"></script>
  <!-- <script src="https://qu4k3r-webchat.herokuapp.com/socket.io/socket.io.js"></script> -->
  <script src="./js/index.js"></script>
</body>

</html>
